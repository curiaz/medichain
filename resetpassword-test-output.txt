node.exe : npm warn Unknown cli config "--watchAll". This will stop working in the next major version 
of npm.
At C:\Program Files\nodejs\npm.ps1:29 char:3
+   & $NODE_EXE $NPM_CLI_JS $args
+   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (npm warn Unknow...version of npm.:String) [], RemoteExcept 
   ion
    + FullyQualifiedErrorId : NativeCommandError
 
npm warn Unknown cli config "--testPathPattern". This will stop working in the next major version of 
npm.
npm warn Unknown cli config "--coverage". This will stop working in the next major version of npm.

> medichain@0.1.0 test
> react-scripts test

PASS src/components/MedichainLogo.test.jsx
PASS src/components/Dashboard.test.js
  ΓùÅ Console

    console.warn
      ΓÜá∩╕Å React Router Future Flag Warning: React Router will begin wrapping state updates in 
`React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For 
more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

    [0m [90m 43 |[39m
     [90m 44 |[39m [36mconst[39m renderWithRouter [33m=[39m (component) [33m=>[39m {
    [31m[1m>[22m[39m[90m 45 |[39m   [36mreturn[39m render(
     [90m    |[39m                [31m[1m^[22m[39m
     [90m 46 |[39m     [33m<[39m[33mBrowserRouter[39m[33m>[39m
     [90m 47 |[39m       {component}
     [90m 48 |[39m     [33m<[39m[33m/[39m[33mBrowserRouter[39m[33m>[39m[0m

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.UNSAFE_logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:26:5)
      at create (node_modules/react-router-dom/index.tsx:816:25)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at callback (node_modules/react-dom/cjs/react-dom.development.js:26808:9)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at actImplementation (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:25)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithRouter (src/components/Dashboard.test.js:45:16)
      at Object.<anonymous> (src/components/Dashboard.test.js:69:5)

    console.warn
      ΓÜá∩╕Å React Router Future Flag Warning: Relative route resolution within Splat routes is 
changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more 
information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

    [0m [90m 43 |[39m
     [90m 44 |[39m [36mconst[39m renderWithRouter [33m=[39m (component) [33m=>[39m {
    [31m[1m>[22m[39m[90m 45 |[39m   [36mreturn[39m render(
     [90m    |[39m                [31m[1m^[22m[39m
     [90m 46 |[39m     [33m<[39m[33mBrowserRouter[39m[33m>[39m
     [90m 47 |[39m       {component}
     [90m 48 |[39m     [33m<[39m[33m/[39m[33mBrowserRouter[39m[33m>[39m[0m

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.UNSAFE_logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:37:5)
      at create (node_modules/react-router-dom/index.tsx:816:25)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at callback (node_modules/react-dom/cjs/react-dom.development.js:26808:9)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at actImplementation (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:25)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithRouter (src/components/Dashboard.test.js:45:16)
      at Object.<anonymous> (src/components/Dashboard.test.js:69:5)

PASS src/context/AuthContext.test.js
  ΓùÅ Console

    console.log
      [Auth] Attempting Firebase login first...

      at login (src/context/AuthContext.jsx:122:17)

    console.log
      [Auth] Firebase login successful, verifying with backend...

      at login (src/context/AuthContext.jsx:126:17)

    console.error
      [Auth] Login error: TypeError: Cannot read properties of undefined (reading 'user')
          at login (D:\Repositories\medichain\src\context\AuthContext.jsx:133:47)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 210 |[39m       }
     [90m 211 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 212 |[39m       console[33m.[39merror([32m'[Auth] Login 
error:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 213 |[39m       
     [90m 214 |[39m       [90m// Network error[39m
     [90m 215 |[39m       [36mif[39m (error[33m.[39mcode [33m===[39m [32m'ERR_NETWORK'[39m 
[33m||[39m error[33m.[39mmessage[33m.[39mincludes([32m'Network Error'[39m)) {[0m

      at login (src/context/AuthContext.jsx:212:15)

    console.log
      [Auth] Attempting Firebase login first...

      at login (src/context/AuthContext.jsx:122:17)

    console.error
      [Auth] Login error: Error: Invalid credentials
          at Object.<anonymous> (D:\Repositories\medichain\src\context\AuthContext.test.js:136:7)
          at Promise.then.completed 
(D:\Repositories\medichain\node_modules\jest-circus\build\utils.js:391:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn 
(D:\Repositories\medichain\node_modules\jest-circus\build\utils.js:316:10)
          at _callCircusTest (D:\Repositories\medichain\node_modules\jest-circus\build\run.js:218:40)
          at runNextTicks (node:internal/process/task_queues:65:5)
          at listOnTimeout (node:internal/timers:555:9)
          at processTimers (node:internal/timers:529:7)
          at _runTest (D:\Repositories\medichain\node_modules\jest-circus\build\run.js:155:3)
          at _runTestsForDescribeBlock 
(D:\Repositories\medichain\node_modules\jest-circus\build\run.js:66:9)
          at _runTestsForDescribeBlock 
(D:\Repositories\medichain\node_modules\jest-circus\build\run.js:60:9)
          at run (D:\Repositories\medichain\node_modules\jest-circus\build\run.js:25:3)
          at runAndTransformResultsToJestFormat (D:\Repositories\medichain\node_modules\jest-circus\buil
d\legacy-code-todo-rewrite\jestAdapterInit.js:170:21)
          at jestAdapter 
(D:\Repositories\medichain\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:68:19)
          at runTestInternal 
(D:\Repositories\medichain\node_modules\jest-runner\build\runTest.js:389:16)
          at runTest (D:\Repositories\medichain\node_modules\jest-runner\build\runTest.js:475:34)
          at Object.worker 
(D:\Repositories\medichain\node_modules\jest-runner\build\testWorker.js:133:12)

    [0m [90m 210 |[39m       }
     [90m 211 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 212 |[39m       console[33m.[39merror([32m'[Auth] Login 
error:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 213 |[39m       
     [90m 214 |[39m       [90m// Network error[39m
     [90m 215 |[39m       [36mif[39m (error[33m.[39mcode [33m===[39m [32m'ERR_NETWORK'[39m 
[33m||[39m error[33m.[39mmessage[33m.[39mincludes([32m'Network Error'[39m)) {[0m

      at login (src/context/AuthContext.jsx:212:15)

PASS src/tests/login-verification.test.js
PASS src/pages/PatientList.test.jsx
  ΓùÅ Console

    console.warn
      ΓÜá∩╕Å React Router Future Flag Warning: React Router will begin wrapping state updates in 
`React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For 
more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

    [0m [90m 59 |[39m
     [90m 60 |[39m [36mconst[39m renderWithProviders [33m=[39m (component) [33m=>[39m {
    [31m[1m>[22m[39m[90m 61 |[39m   [36mreturn[39m render(
     [90m    |[39m                [31m[1m^[22m[39m
     [90m 62 |[39m     [33m<[39m[33mBrowserRouter[39m[33m>[39m
     [90m 63 |[39m       {component}
     [90m 64 |[39m     [33m<[39m[33m/[39m[33mBrowserRouter[39m[33m>[39m[0m

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.UNSAFE_logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:26:5)
      at create (node_modules/react-router-dom/index.tsx:816:25)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at callback (node_modules/react-dom/cjs/react-dom.development.js:26808:9)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at actImplementation (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:25)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/pages/PatientList.test.jsx:61:16)
      at Object.<anonymous> (src/pages/PatientList.test.jsx:79:5)

    console.warn
      ΓÜá∩╕Å React Router Future Flag Warning: Relative route resolution within Splat routes is 
changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more 
information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

    [0m [90m 59 |[39m
     [90m 60 |[39m [36mconst[39m renderWithProviders [33m=[39m (component) [33m=>[39m {
    [31m[1m>[22m[39m[90m 61 |[39m   [36mreturn[39m render(
     [90m    |[39m                [31m[1m^[22m[39m
     [90m 62 |[39m     [33m<[39m[33mBrowserRouter[39m[33m>[39m
     [90m 63 |[39m       {component}
     [90m 64 |[39m     [33m<[39m[33m/[39m[33mBrowserRouter[39m[33m>[39m[0m

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.UNSAFE_logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:37:5)
      at create (node_modules/react-router-dom/index.tsx:816:25)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at callback (node_modules/react-dom/cjs/react-dom.development.js:26808:9)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at actImplementation (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:25)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithProviders (src/pages/PatientList.test.jsx:61:16)
      at Object.<anonymous> (src/pages/PatientList.test.jsx:79:5)

    console.warn
      Failed to load patients: Database connection failed

    [0m [90m 43 |[39m         setFilteredPatients(result[33m.[39mdata)
     [90m 44 |[39m       } [36melse[39m {
    [31m[1m>[22m[39m[90m 45 |[39m         console[33m.[39mwarn([32m'Failed to load 
patients:'[39m[33m,[39m result[33m.[39merror)
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 46 |[39m         setError([32m'Failed to load patient list'[39m)
     [90m 47 |[39m       }
     [90m 48 |[39m     } [36mcatch[39m (err) {[0m

      at loadAllPatients (src/pages/PatientList.jsx:45:17)

    console.error
      Warning: An update to PatientList inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at 
https://reactjs.org/link/wrap-tests-with-act
          at fn (D:\Repositories\medichain\src\pages\PatientList.jsx:12:43)
          at fn (D:\Repositories\medichain\node_modules\react-router\lib\components.tsx:421:13)
          at fn (D:\Repositories\medichain\node_modules\react-router-dom\index.tsx:789:3)

    [0m [90m 40 |[39m       
     [90m 41 |[39m       [36mif[39m (result[33m.[39msuccess) {
    [31m[1m>[22m[39m[90m 42 |[39m         setPatients(result[33m.[39mdata)
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 43 |[39m         setFilteredPatients(result[33m.[39mdata)
     [90m 44 |[39m       } [36melse[39m {
     [90m 45 |[39m         console[33m.[39mwarn([32m'Failed to load patients:'[39m[33m,[39m 
result[33m.[39merror)[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at setPatients (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at loadAllPatients (src/pages/PatientList.jsx:42:9)

    console.error
      Warning: An update to PatientList inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at 
https://reactjs.org/link/wrap-tests-with-act
          at fn (D:\Repositories\medichain\src\pages\PatientList.jsx:12:43)
          at fn (D:\Repositories\medichain\node_modules\react-router\lib\components.tsx:421:13)
          at fn (D:\Repositories\medichain\node_modules\react-router-dom\index.tsx:789:3)

    [0m [90m 41 |[39m       [36mif[39m (result[33m.[39msuccess) {
     [90m 42 |[39m         setPatients(result[33m.[39mdata)
    [31m[1m>[22m[39m[90m 43 |[39m         setFilteredPatients(result[33m.[39mdata)
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 44 |[39m       } [36melse[39m {
     [90m 45 |[39m         console[33m.[39mwarn([32m'Failed to load patients:'[39m[33m,[39m 
result[33m.[39merror)
     [90m 46 |[39m         setError([32m'Failed to load patient list'[39m)[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at setFilteredPatients (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at loadAllPatients (src/pages/PatientList.jsx:43:9)

    console.error
      Warning: An update to PatientList inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at 
https://reactjs.org/link/wrap-tests-with-act
          at fn (D:\Repositories\medichain\src\pages\PatientList.jsx:12:43)
          at fn (D:\Repositories\medichain\node_modules\react-router\lib\components.tsx:421:13)
          at fn (D:\Repositories\medichain\node_modules\react-router-dom\index.tsx:789:3)

    [0m [90m 50 |[39m       setError([32m'Error connecting to database'[39m)
     [90m 51 |[39m     } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 52 |[39m       setLoading([36mfalse[39m)
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 53 |[39m     }
     [90m 54 |[39m   }
     [90m 55 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at setLoading (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at loadAllPatients (src/pages/PatientList.jsx:52:7)

FAIL src/components/JitsiVideoConference.test.jsx
  ΓùÅ Console

    console.warn
      ΓÜá∩╕Å React Router Future Flag Warning: React Router will begin wrapping state updates in 
`React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For 
more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.UNSAFE_logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:26:5)
      at create (node_modules/react-router-dom/index.tsx:816:25)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at callback (node_modules/react-dom/cjs/react-dom.development.js:26808:9)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at recursivelyFlushAsyncActWork (node_modules/react/cjs/react.development.js:2633:9)
      at node_modules/react/cjs/react.development.js:2545:15

    console.warn
      ΓÜá∩╕Å React Router Future Flag Warning: Relative route resolution within Splat routes is 
changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more 
information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.UNSAFE_logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:37:5)
      at create (node_modules/react-router-dom/index.tsx:816:25)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at callback (node_modules/react-dom/cjs/react-dom.development.js:26808:9)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at recursivelyFlushAsyncActWork (node_modules/react/cjs/react.development.js:2633:9)
      at node_modules/react/cjs/react.development.js:2545:15

    console.log
      Jitsi: Ready to close

      at Object.readyToClose (src/components/JitsiVideoConference.jsx:316:21)

    console.log
      ≡ƒôï Marking appointment as completed: 1

      at markAppointmentAsCompleted (src/components/JitsiVideoConference.jsx:428:15)

    console.error
      Γ¥î Error marking appointment as completed: TypeError: Cannot read properties of undefined 
(reading 'data')
          at markAppointmentAsCompleted 
(D:\Repositories\medichain\src\components\JitsiVideoConference.jsx:469:20)
          at handleMeetingEnd (D:\Repositories\medichain\src\components\JitsiVideoConference.jsx:402:7)

    [0m [90m 474 |[39m       }
     [90m 475 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 476 |[39m       console[33m.[39merror([32m'Γ¥î Error marking 
appointment as completed:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 477 |[39m       [90m// Reset flag so it can be retried[39m
     [90m 478 |[39m       setHasMarkedCompleted([36mfalse[39m)[33m;[39m
     [90m 479 |[39m     }[0m

      at markAppointmentAsCompleted (src/components/JitsiVideoConference.jsx:476:15)
      at handleMeetingEnd (src/components/JitsiVideoConference.jsx:402:7)

    console.error
      Error initializing Jitsi: Error: Initialization failed
          at mockConstructor.<anonymous> 
(D:\Repositories\medichain\src\components\JitsiVideoConference.test.jsx:527:15)
          at D:\Repositories\medichain\node_modules\jest-mock\build\index.js:438:43
          at mockConstructor.<anonymous> 
(D:\Repositories\medichain\node_modules\jest-mock\build\index.js:457:13)
          at new mockConstructor 
(D:\Repositories\medichain\node_modules\jest-mock\build\index.js:170:19)
          at initializeJitsi (D:\Repositories\medichain\src\components\JitsiVideoConference.jsx:311:26)
          at loadJitsiScript (D:\Repositories\medichain\src\components\JitsiVideoConference.jsx:206:9)
          at create (D:\Repositories\medichain\src\components\JitsiVideoConference.jsx:365:5)
          at commitHookEffectListMount 
(D:\Repositories\medichain\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber 
(D:\Repositories\medichain\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete 
(D:\Repositories\medichain\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin 
(D:\Repositories\medichain\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects 
(D:\Repositories\medichain\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl 
(D:\Repositories\medichain\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects 
(D:\Repositories\medichain\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at callback 
(D:\Repositories\medichain\node_modules\react-dom\cjs\react-dom.development.js:26808:9)
          at flushActQueue 
(D:\Repositories\medichain\node_modules\react\cjs\react.development.js:2667:24)
          at recursivelyFlushAsyncActWork 
(D:\Repositories\medichain\node_modules\react\cjs\react.development.js:2633:9)
          at Immediate._onImmediate 
(D:\Repositories\medichain\node_modules\react\cjs\react.development.js:2641:13)
          at processImmediate (node:internal/timers:491:21)

    [0m [90m 357 |[39m         setLoading([36mfalse[39m)[33m;[39m
     [90m 358 |[39m       } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 359 |[39m         console[33m.[39merror([32m'Error initializing 
Jitsi:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 360 |[39m         setError([32m"Failed to initialize video conference. Please try 
again."[39m)[33m;[39m
     [90m 361 |[39m         setLoading([36mfalse[39m)[33m;[39m
     [90m 362 |[39m       }[0m

      at initializeJitsi (src/components/JitsiVideoConference.jsx:359:17)
      at loadJitsiScript (src/components/JitsiVideoConference.jsx:206:9)
      at create (src/components/JitsiVideoConference.jsx:365:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at callback (node_modules/react-dom/cjs/react-dom.development.js:26808:9)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at recursivelyFlushAsyncActWork (node_modules/react/cjs/react.development.js:2633:9)
      at Immediate._onImmediate (node_modules/react/cjs/react.development.js:2641:13)

    console.error
      Error fetching appointment info: Error: Network error
          at Object.<anonymous> 
(D:\Repositories\medichain\src\components\JitsiVideoConference.test.jsx:563:35)
          at Promise.then.completed 
(D:\Repositories\medichain\node_modules\jest-circus\build\utils.js:391:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn 
(D:\Repositories\medichain\node_modules\jest-circus\build\utils.js:316:10)
          at _callCircusTest (D:\Repositories\medichain\node_modules\jest-circus\build\run.js:218:40)
          at _runTest (D:\Repositories\medichain\node_modules\jest-circus\build\run.js:155:3)
          at _runTestsForDescribeBlock 
(D:\Repositories\medichain\node_modules\jest-circus\build\run.js:66:9)
          at _runTestsForDescribeBlock 
(D:\Repositories\medichain\node_modules\jest-circus\build\run.js:60:9)
          at _runTestsForDescribeBlock 
(D:\Repositories\medichain\node_modules\jest-circus\build\run.js:60:9)
          at run (D:\Repositories\medichain\node_modules\jest-circus\build\run.js:25:3)
          at runAndTransformResultsToJestFormat (D:\Repositories\medichain\node_modules\jest-circus\buil
d\legacy-code-todo-rewrite\jestAdapterInit.js:170:21)
          at jestAdapter 
(D:\Repositories\medichain\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:68:19)
          at runTestInternal 
(D:\Repositories\medichain\node_modules\jest-runner\build\runTest.js:389:16)
          at runTest (D:\Repositories\medichain\node_modules\jest-runner\build\runTest.js:475:34)
          at Object.worker 
(D:\Repositories\medichain\node_modules\jest-runner\build\testWorker.js:133:12)

    [0m [90m 136 |[39m         }
     [90m 137 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 138 |[39m         console[33m.[39merror([32m'Error fetching 
appointment info:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 139 |[39m         [90m// Allow joining even if fetch fails (late comers can still 
enter)[39m
     [90m 140 |[39m         setCanJoin([36mtrue[39m)[33m;[39m
     [90m 141 |[39m       } [36mfinally[39m {[0m

      at fetchAppointmentInfo (src/components/JitsiVideoConference.jsx:138:17)

  ΓùÅ JitsiVideoConference Component ΓÇ║ Event Handlers ΓÇ║ sets up event listeners for Jitsi events

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    [0m [90m 407 |[39m       [36mconst[39m apiInstance [33m=[39m mockJitsiAPI[33m;[39m
     [90m 408 |[39m       [36mif[39m (apiInstance[33m.[39maddEventListeners) {
    [31m[1m>[22m[39m[90m 409 |[39m         
expect(apiInstance[33m.[39maddEventListeners)[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m     |[39m                                               [31m[1m^[22m[39m
     [90m 410 |[39m       }
     [90m 411 |[39m     })[33m;[39m
     [90m 412 |[39m[0m

      at Object.<anonymous> (src/components/JitsiVideoConference.test.jsx:409:47)

  ΓùÅ JitsiVideoConference Component ΓÇ║ Event Handlers ΓÇ║ navigates to appointments when conference 
is closed

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/my-appointments"

    Number of calls: 0

    [0m [90m 443 |[39m           
mockJitsiAPI[33m.[39m_lastHandlers[33m.[39mreadyToClose()[33m;[39m
     [90m 444 |[39m         })[33m;[39m
    [31m[1m>[22m[39m[90m 445 |[39m         
expect(mockNavigate)[33m.[39mtoHaveBeenCalledWith([32m'/my-appointments'[39m)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 446 |[39m       } [36melse[39m {
     [90m 447 |[39m         [90m// If handlers weren't captured, just verify API was called[39m
     [90m 448 |[39m         expect(global[33m.[39mwindow[33m.[39m[33mJitsiMeetExternalAPI[39m)[
33m.[39mtoHaveBeenCalled()[33m;[39m[0m

      at Object.<anonymous> (src/components/JitsiVideoConference.test.jsx:445:30)

  ΓùÅ JitsiVideoConference Component ΓÇ║ Cleanup ΓÇ║ disposes Jitsi API on component unmount

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    [0m [90m 517 |[39m       })[33m;[39m
     [90m 518 |[39m
    [31m[1m>[22m[39m[90m 519 |[39m       
expect(mockJitsiAPI[33m.[39mdispose)[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 520 |[39m     })[33m;[39m
     [90m 521 |[39m   })[33m;[39m
     [90m 522 |[39m[0m

      at Object.<anonymous> (src/components/JitsiVideoConference.test.jsx:519:36)

PASS src/frontend/MedichainLogin.test.jsx
  ΓùÅ Console

    console.warn
      ΓÜá∩╕Å React Router Future Flag Warning: React Router will begin wrapping state updates in 
`React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For 
more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

    [0m [90m 113 |[39m   describe([32m'Component Rendering'[39m[33m,[39m () [33m=>[39m {
     [90m 114 |[39m     it([32m'renders login form with all essential elements'[39m[33m,[39m () 
[33m=>[39m {
    [31m[1m>[22m[39m[90m 115 |[39m       render(
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 116 |[39m         [33m<[39m[33mTestWrapper[39m[33m>[39m
     [90m 117 |[39m           [33m<[39m[33mMedichainLogin[39m [33m/[39m[33m>[39m
     [90m 118 |[39m         [33m<[39m[33m/[39m[33mTestWrapper[39m[33m>[39m[0m

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.UNSAFE_logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:26:5)
      at create (node_modules/react-router-dom/index.tsx:816:25)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at callback (node_modules/react-dom/cjs/react-dom.development.js:26808:9)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at actImplementation (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:25)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/frontend/MedichainLogin.test.jsx:115:13)

    console.warn
      ΓÜá∩╕Å React Router Future Flag Warning: Relative route resolution within Splat routes is 
changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more 
information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

    [0m [90m 113 |[39m   describe([32m'Component Rendering'[39m[33m,[39m () [33m=>[39m {
     [90m 114 |[39m     it([32m'renders login form with all essential elements'[39m[33m,[39m () 
[33m=>[39m {
    [31m[1m>[22m[39m[90m 115 |[39m       render(
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 116 |[39m         [33m<[39m[33mTestWrapper[39m[33m>[39m
     [90m 117 |[39m           [33m<[39m[33mMedichainLogin[39m [33m/[39m[33m>[39m
     [90m 118 |[39m         [33m<[39m[33m/[39m[33mTestWrapper[39m[33m>[39m[0m

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.UNSAFE_logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:37:5)
      at create (node_modules/react-router-dom/index.tsx:816:25)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at callback (node_modules/react-dom/cjs/react-dom.development.js:26808:9)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at actImplementation (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:25)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/frontend/MedichainLogin.test.jsx:115:13)

    console.error
      Login error: Error: Network error
          at Object.<anonymous> (D:\Repositories\medichain\src\frontend\MedichainLogin.test.jsx:561:35)
          at Promise.then.completed 
(D:\Repositories\medichain\node_modules\jest-circus\build\utils.js:391:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn 
(D:\Repositories\medichain\node_modules\jest-circus\build\utils.js:316:10)
          at _callCircusTest (D:\Repositories\medichain\node_modules\jest-circus\build\run.js:218:40)
          at _runTest (D:\Repositories\medichain\node_modules\jest-circus\build\run.js:155:3)
          at _runTestsForDescribeBlock 
(D:\Repositories\medichain\node_modules\jest-circus\build\run.js:66:9)
          at _runTestsForDescribeBlock 
(D:\Repositories\medichain\node_modules\jest-circus\build\run.js:60:9)
          at _runTestsForDescribeBlock 
(D:\Repositories\medichain\node_modules\jest-circus\build\run.js:60:9)
          at run (D:\Repositories\medichain\node_modules\jest-circus\build\run.js:25:3)
          at runAndTransformResultsToJestFormat (D:\Repositories\medichain\node_modules\jest-circus\buil
d\legacy-code-todo-rewrite\jestAdapterInit.js:170:21)
          at jestAdapter 
(D:\Repositories\medichain\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:68:19)
          at runTestInternal 
(D:\Repositories\medichain\node_modules\jest-runner\build\runTest.js:389:16)
          at runTest (D:\Repositories\medichain\node_modules\jest-runner\build\runTest.js:475:34)
          at Object.worker 
(D:\Repositories\medichain\node_modules\jest-runner\build\testWorker.js:133:12)

    [0m [90m 121 |[39m       }
     [90m 122 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 123 |[39m       console[33m.[39merror([32m"Login 
error:"[39m[33m,[39m error)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 124 |[39m       setInlineError([32m"An unexpected error occurred. Please try again."[39m)
     [90m 125 |[39m       showToast[33m.[39merror([32m"An unexpected error occurred. Please try 
again."[39m)
     [90m 126 |[39m     } [36mfinally[39m {[0m

      at handleSubmit (src/frontend/MedichainLogin.jsx:123:15)

PASS src/pages/DoctorSchedule.test.jsx
  ΓùÅ Console

    console.warn
      ΓÜá∩╕Å React Router Future Flag Warning: React Router will begin wrapping state updates in 
`React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For 
more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

    [0m [90m 112 |[39m   describe([32m'Video Call Button Rendering'[39m[33m,[39m () [33m=>[39m 
{
     [90m 113 |[39m     it([32m'renders "Join Video Consultation" button when meeting URL 
exists'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 114 |[39m       render(
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 115 |[39m         [33m<[39m[33mTestWrapper[39m[33m>[39m
     [90m 116 |[39m           [33m<[39m[33mDoctorSchedule[39m [33m/[39m[33m>[39m
     [90m 117 |[39m         [33m<[39m[33m/[39m[33mTestWrapper[39m[33m>[39m[0m

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.UNSAFE_logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:26:5)
      at create (node_modules/react-router-dom/index.tsx:816:25)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at callback (node_modules/react-dom/cjs/react-dom.development.js:26808:9)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at actImplementation (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:25)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/pages/DoctorSchedule.test.jsx:114:13)

    console.warn
      ΓÜá∩╕Å React Router Future Flag Warning: Relative route resolution within Splat routes is 
changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more 
information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

    [0m [90m 112 |[39m   describe([32m'Video Call Button Rendering'[39m[33m,[39m () [33m=>[39m 
{
     [90m 113 |[39m     it([32m'renders "Join Video Consultation" button when meeting URL 
exists'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 114 |[39m       render(
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 115 |[39m         [33m<[39m[33mTestWrapper[39m[33m>[39m
     [90m 116 |[39m           [33m<[39m[33mDoctorSchedule[39m [33m/[39m[33m>[39m
     [90m 117 |[39m         [33m<[39m[33m/[39m[33mTestWrapper[39m[33m>[39m[0m

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.UNSAFE_logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:37:5)
      at create (node_modules/react-router-dom/index.tsx:816:25)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at callback (node_modules/react-dom/cjs/react-dom.development.js:26808:9)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at actImplementation (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:25)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/pages/DoctorSchedule.test.jsx:114:13)

    console.log
      Γ£à DoctorSchedule: Token obtained from firebase_via_authcontext

      at loadAppointments (src/pages/DoctorSchedule.jsx:100:15)

    console.log
      ≡ƒôï Appointment 1 (ID: 1): {
        patient_firebase_uid: 'patient-123',
        patient_object: { first_name: 'Jane', last_name: 'Smith', email: 'jane@example.com' },
        has_patient_first_name: true,
        has_patient_last_name: true,
        has_patient_email: true
      }

      at forEach (src/pages/DoctorSchedule.jsx:110:19)
          at Array.forEach (<anonymous>)

    console.log
      ≡ƒôï Appointment 2 (ID: 2): {
        patient_firebase_uid: 'patient-456',
        patient_object: { first_name: 'John', last_name: 'Doe', email: 'john@example.com' },
        has_patient_first_name: true,
        has_patient_last_name: true,
        has_patient_email: true
      }

      at forEach (src/pages/DoctorSchedule.jsx:110:19)
          at Array.forEach (<anonymous>)

    console.log
      ≡ƒôÑ Raw API response for is_accepting_appointments: undefined (type: undefined)

      at fetchAvailability (src/pages/DoctorAvailability.jsx:67:17)

    console.log
      ΓÜá∩╕Å  is_accepting_appointments was undefined/null, defaulting to true

      at fetchAvailability (src/pages/DoctorAvailability.jsx:74:19)

    console.log
      ≡ƒôÑ Loaded accepting appointments state: true (from API: undefined)

      at fetchAvailability (src/pages/DoctorAvailability.jsx:87:17)

    console.log
      Γ£à DoctorSchedule: Token obtained from firebase_via_authcontext

      at loadAppointments (src/pages/DoctorSchedule.jsx:100:15)

    console.log
      ≡ƒôï Appointment 1 (ID: 2): {
        patient_firebase_uid: 'patient-456',
        patient_object: { first_name: 'John', last_name: 'Doe', email: 'john@example.com' },
        has_patient_first_name: true,
        has_patient_last_name: true,
        has_patient_email: true
      }

      at forEach (src/pages/DoctorSchedule.jsx:110:19)
          at Array.forEach (<anonymous>)

    console.log
      ≡ƒôÑ Raw API response for is_accepting_appointments: undefined (type: undefined)

      at fetchAvailability (src/pages/DoctorAvailability.jsx:67:17)

    console.log
      ΓÜá∩╕Å  is_accepting_appointments was undefined/null, defaulting to true

      at fetchAvailability (src/pages/DoctorAvailability.jsx:74:19)

    console.log
      ≡ƒôÑ Loaded accepting appointments state: true (from API: undefined)

      at fetchAvailability (src/pages/DoctorAvailability.jsx:87:17)

    console.log
      Γ£à DoctorSchedule: Token obtained from firebase_via_authcontext

      at loadAppointments (src/pages/DoctorSchedule.jsx:100:15)

    console.log
      ≡ƒôï Appointment 1 (ID: 1): {
        patient_firebase_uid: 'patient-123',
        patient_object: { first_name: 'Jane', last_name: 'Smith', email: 'jane@example.com' },
        has_patient_first_name: true,
        has_patient_last_name: true,
        has_patient_email: true
      }

      at forEach (src/pages/DoctorSchedule.jsx:110:19)
          at Array.forEach (<anonymous>)

    console.log
      ≡ƒôï Appointment 2 (ID: 2): {
        patient_firebase_uid: 'patient-456',
        patient_object: { first_name: 'John', last_name: 'Doe', email: 'john@example.com' },
        has_patient_first_name: true,
        has_patient_last_name: true,
        has_patient_email: true
      }

      at forEach (src/pages/DoctorSchedule.jsx:110:19)
          at Array.forEach (<anonymous>)

    console.log
      ≡ƒôÑ Raw API response for is_accepting_appointments: undefined (type: undefined)

      at fetchAvailability (src/pages/DoctorAvailability.jsx:67:17)

    console.log
      ΓÜá∩╕Å  is_accepting_appointments was undefined/null, defaulting to true

      at fetchAvailability (src/pages/DoctorAvailability.jsx:74:19)

    console.log
      ≡ƒôÑ Loaded accepting appointments state: true (from API: undefined)

      at fetchAvailability (src/pages/DoctorAvailability.jsx:87:17)

    console.log
      Γ£à DoctorSchedule: Token obtained from firebase_via_authcontext

      at loadAppointments (src/pages/DoctorSchedule.jsx:100:15)

    console.log
      ≡ƒôï Appointment 1 (ID: 1): {
        patient_firebase_uid: 'patient-123',
        patient_object: { first_name: 'Jane', last_name: 'Smith', email: 'jane@example.com' },
        has_patient_first_name: true,
        has_patient_last_name: true,
        has_patient_email: true
      }

      at forEach (src/pages/DoctorSchedule.jsx:110:19)
          at Array.forEach (<anonymous>)

    console.log
      ≡ƒôï Appointment 2 (ID: 2): {
        patient_firebase_uid: 'patient-456',
        patient_object: { first_name: 'John', last_name: 'Doe', email: 'john@example.com' },
        has_patient_first_name: true,
        has_patient_last_name: true,
        has_patient_email: true
      }

      at forEach (src/pages/DoctorSchedule.jsx:110:19)
          at Array.forEach (<anonymous>)

    console.log
      ≡ƒôÑ Raw API response for is_accepting_appointments: undefined (type: undefined)

      at fetchAvailability (src/pages/DoctorAvailability.jsx:67:17)

    console.log
      ΓÜá∩╕Å  is_accepting_appointments was undefined/null, defaulting to true

      at fetchAvailability (src/pages/DoctorAvailability.jsx:74:19)

    console.log
      ≡ƒôÑ Loaded accepting appointments state: true (from API: undefined)

      at fetchAvailability (src/pages/DoctorAvailability.jsx:87:17)

    console.log
      Γ£à DoctorSchedule: Token obtained from firebase_via_authcontext

      at loadAppointments (src/pages/DoctorSchedule.jsx:100:15)

    console.log
      ≡ƒôï Appointment 1 (ID: 3): {
        patient_firebase_uid: 'patient-789',
        patient_object: { first_name: 'Bob', last_name: 'Johnson' },
        has_patient_first_name: true,
        has_patient_last_name: true,
        has_patient_email: false
      }

      at forEach (src/pages/DoctorSchedule.jsx:110:19)
          at Array.forEach (<anonymous>)

    console.log
      ≡ƒôÑ Raw API response for is_accepting_appointments: undefined (type: undefined)

      at fetchAvailability (src/pages/DoctorAvailability.jsx:67:17)

    console.log
      ΓÜá∩╕Å  is_accepting_appointments was undefined/null, defaulting to true

      at fetchAvailability (src/pages/DoctorAvailability.jsx:74:19)

    console.log
      ≡ƒôÑ Loaded accepting appointments state: true (from API: undefined)

      at fetchAvailability (src/pages/DoctorAvailability.jsx:87:17)

    console.log
      Γ£à DoctorSchedule: Token obtained from firebase_via_authcontext

      at loadAppointments (src/pages/DoctorSchedule.jsx:100:15)

    console.log
      ≡ƒôï Appointment 1 (ID: 4): {
        patient_firebase_uid: 'patient-999',
        patient_object: { first_name: 'Alice', last_name: 'Brown' },
        has_patient_first_name: true,
        has_patient_last_name: true,
        has_patient_email: false
      }

      at forEach (src/pages/DoctorSchedule.jsx:110:19)
          at Array.forEach (<anonymous>)

    console.log
      ≡ƒôÑ Raw API response for is_accepting_appointments: undefined (type: undefined)

      at fetchAvailability (src/pages/DoctorAvailability.jsx:67:17)

    console.log
      ΓÜá∩╕Å  is_accepting_appointments was undefined/null, defaulting to true

      at fetchAvailability (src/pages/DoctorAvailability.jsx:74:19)

    console.log
      ≡ƒôÑ Loaded accepting appointments state: true (from API: undefined)

      at fetchAvailability (src/pages/DoctorAvailability.jsx:87:17)

    console.log
      Γ£à DoctorSchedule: Token obtained from firebase_via_authcontext

      at loadAppointments (src/pages/DoctorSchedule.jsx:100:15)

    console.log
      ≡ƒôï Appointment 1 (ID: 1): {
        patient_firebase_uid: 'patient-123',
        patient_object: { first_name: 'Jane', last_name: 'Smith', email: 'jane@example.com' },
        has_patient_first_name: true,
        has_patient_last_name: true,
        has_patient_email: true
      }

      at forEach (src/pages/DoctorSchedule.jsx:110:19)
          at Array.forEach (<anonymous>)

    console.log
      ≡ƒôï Appointment 2 (ID: 2): {
        patient_firebase_uid: 'patient-456',
        patient_object: { first_name: 'John', last_name: 'Doe', email: 'john@example.com' },
        has_patient_first_name: true,
        has_patient_last_name: true,
        has_patient_email: true
      }

      at forEach (src/pages/DoctorSchedule.jsx:110:19)
          at Array.forEach (<anonymous>)

    console.log
      ≡ƒôÑ Raw API response for is_accepting_appointments: undefined (type: undefined)

      at fetchAvailability (src/pages/DoctorAvailability.jsx:67:17)

    console.log
      ΓÜá∩╕Å  is_accepting_appointments was undefined/null, defaulting to true

      at fetchAvailability (src/pages/DoctorAvailability.jsx:74:19)

    console.log
      ≡ƒôÑ Loaded accepting appointments state: true (from API: undefined)

      at fetchAvailability (src/pages/DoctorAvailability.jsx:87:17)

    console.log
      Γ£à DoctorSchedule: Token obtained from firebase_via_authcontext

      at loadAppointments (src/pages/DoctorSchedule.jsx:100:15)

    console.log
      ≡ƒôï Appointment 1 (ID: 1): {
        patient_firebase_uid: 'patient-123',
        patient_object: { first_name: 'Jane', last_name: 'Smith', email: 'jane@example.com' },
        has_patient_first_name: true,
        has_patient_last_name: true,
        has_patient_email: true
      }

      at forEach (src/pages/DoctorSchedule.jsx:110:19)
          at Array.forEach (<anonymous>)

    console.log
      ≡ƒôï Appointment 2 (ID: 2): {
        patient_firebase_uid: 'patient-456',
        patient_object: { first_name: 'John', last_name: 'Doe', email: 'john@example.com' },
        has_patient_first_name: true,
        has_patient_last_name: true,
        has_patient_email: true
      }

      at forEach (src/pages/DoctorSchedule.jsx:110:19)
          at Array.forEach (<anonymous>)

    console.log
      ≡ƒôÑ Raw API response for is_accepting_appointments: undefined (type: undefined)

      at fetchAvailability (src/pages/DoctorAvailability.jsx:67:17)

    console.log
      ΓÜá∩╕Å  is_accepting_appointments was undefined/null, defaulting to true

      at fetchAvailability (src/pages/DoctorAvailability.jsx:74:19)

    console.log
      ≡ƒôÑ Loaded accepting appointments state: true (from API: undefined)

      at fetchAvailability (src/pages/DoctorAvailability.jsx:87:17)

    console.log
      Γ£à DoctorSchedule: Token obtained from firebase_via_authcontext

      at loadAppointments (src/pages/DoctorSchedule.jsx:100:15)

    console.log
      ≡ƒôï Appointment 1 (ID: 1): {
        patient_firebase_uid: 'patient-123',
        patient_object: { first_name: 'Jane', last_name: 'Smith', email: 'jane@example.com' },
        has_patient_first_name: true,
        has_patient_last_name: true,
        has_patient_email: true
      }

      at forEach (src/pages/DoctorSchedule.jsx:110:19)
          at Array.forEach (<anonymous>)

    console.log
      ≡ƒôï Appointment 2 (ID: 2): {
        patient_firebase_uid: 'patient-456',
        patient_object: { first_name: 'John', last_name: 'Doe', email: 'john@example.com' },
        has_patient_first_name: true,
        has_patient_last_name: true,
        has_patient_email: true
      }

      at forEach (src/pages/DoctorSchedule.jsx:110:19)
          at Array.forEach (<anonymous>)

    console.log
      ≡ƒôÑ Raw API response for is_accepting_appointments: undefined (type: undefined)

      at fetchAvailability (src/pages/DoctorAvailability.jsx:67:17)

    console.log
      ΓÜá∩╕Å  is_accepting_appointments was undefined/null, defaulting to true

      at fetchAvailability (src/pages/DoctorAvailability.jsx:74:19)

    console.log
      ≡ƒôÑ Loaded accepting appointments state: true (from API: undefined)

      at fetchAvailability (src/pages/DoctorAvailability.jsx:87:17)

PASS src/tests/role-info-integration.test.js
  ΓùÅ Console

    console.warn
      ΓÜá∩╕Å React Router Future Flag Warning: React Router will begin wrapping state updates in 
`React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For 
more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

    [0m [90m 51 |[39m
     [90m 52 |[39m [36mconst[39m renderWithRouter [33m=[39m (component) [33m=>[39m {
    [31m[1m>[22m[39m[90m 53 |[39m   [36mreturn[39m render(
     [90m    |[39m                [31m[1m^[22m[39m
     [90m 54 |[39m     [33m<[39m[33mBrowserRouter[39m[33m>[39m
     [90m 55 |[39m       {component}
     [90m 56 |[39m     [33m<[39m[33m/[39m[33mBrowserRouter[39m[33m>[39m[0m

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.UNSAFE_logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:26:5)
      at create (node_modules/react-router-dom/index.tsx:816:25)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at callback (node_modules/react-dom/cjs/react-dom.development.js:26808:9)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at actImplementation (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:25)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithRouter (src/tests/role-info-integration.test.js:53:16)
      at Object.<anonymous> (src/tests/role-info-integration.test.js:63:7)

    console.warn
      ΓÜá∩╕Å React Router Future Flag Warning: Relative route resolution within Splat routes is 
changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more 
information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

    [0m [90m 51 |[39m
     [90m 52 |[39m [36mconst[39m renderWithRouter [33m=[39m (component) [33m=>[39m {
    [31m[1m>[22m[39m[90m 53 |[39m   [36mreturn[39m render(
     [90m    |[39m                [31m[1m^[22m[39m
     [90m 54 |[39m     [33m<[39m[33mBrowserRouter[39m[33m>[39m
     [90m 55 |[39m       {component}
     [90m 56 |[39m     [33m<[39m[33m/[39m[33mBrowserRouter[39m[33m>[39m[0m

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.UNSAFE_logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:37:5)
      at create (node_modules/react-router-dom/index.tsx:816:25)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at callback (node_modules/react-dom/cjs/react-dom.development.js:26808:9)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at actImplementation (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:25)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at renderWithRouter (src/tests/role-info-integration.test.js:53:16)
      at Object.<anonymous> (src/tests/role-info-integration.test.js:63:7)

    console.error
      Error fetching doctor stats: {
        message: "TypeError: Cannot read properties of undefined (reading 'status')",
        details: "TypeError: Cannot read properties of undefined (reading 'status')\n" +
          '    at 
D:\\Repositories\\medichain\\node_modules\\@supabase\\postgrest-js\\src\\PostgrestBuilder.ts:124:24\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at Function.getDoctorStats 
(D:\\Repositories\\medichain\\src\\services\\databaseService.js:13:56)\n' +
          '    at loadDoctorStats (D:\\Repositories\\medichain\\src\\pages\\DoctorDashboard.jsx:38:22)',
        hint: '',
        code: ''
      }

    [0m [90m 58 |[39m       }[33m;[39m
     [90m 59 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 60 |[39m       console[33m.[39merror([32m'Error fetching doctor 
stats:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 61 |[39m       [36mreturn[39m {
     [90m 62 |[39m         success[33m:[39m [36mfalse[39m[33m,[39m
     [90m 63 |[39m         error[33m:[39m error[33m.[39mmessage[33m,[39m[0m

      at Function.getDoctorStats (src/services/databaseService.js:60:15)
      at loadDoctorStats (src/pages/DoctorDashboard.jsx:38:22)

    console.error
      Error fetching doctor stats: {
        message: "TypeError: Cannot read properties of undefined (reading 'status')",
        details: "TypeError: Cannot read properties of undefined (reading 'status')\n" +
          '    at 
D:\\Repositories\\medichain\\node_modules\\@supabase\\postgrest-js\\src\\PostgrestBuilder.ts:124:24\n' +
          '    at runNextTicks (node:internal/process/task_queues:65:5)\n' +
          '    at listOnTimeout (node:internal/timers:555:9)\n' +
          '    at processTimers (node:internal/timers:529:7)\n' +
          '    at Function.getDoctorStats 
(D:\\Repositories\\medichain\\src\\services\\databaseService.js:13:56)\n' +
          '    at loadDoctorStats (D:\\Repositories\\medichain\\src\\pages\\DoctorDashboard.jsx:38:22)',
        hint: '',
        code: ''
      }

    [0m [90m 58 |[39m       }[33m;[39m
     [90m 59 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 60 |[39m       console[33m.[39merror([32m'Error fetching doctor 
stats:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 61 |[39m       [36mreturn[39m {
     [90m 62 |[39m         success[33m:[39m [36mfalse[39m[33m,[39m
     [90m 63 |[39m         error[33m:[39m error[33m.[39mmessage[33m,[39m[0m

      at Function.getDoctorStats (src/services/databaseService.js:60:15)
      at loadDoctorStats (src/pages/DoctorDashboard.jsx:38:22)

    console.error
      Error fetching doctor stats: {
        message: "TypeError: Cannot read properties of undefined (reading 'status')",
        details: "TypeError: Cannot read properties of undefined (reading 'status')\n" +
          '    at 
D:\\Repositories\\medichain\\node_modules\\@supabase\\postgrest-js\\src\\PostgrestBuilder.ts:124:24\n' +
          '    at Function.getDoctorStats 
(D:\\Repositories\\medichain\\src\\services\\databaseService.js:13:56)\n' +
          '    at loadDoctorStats (D:\\Repositories\\medichain\\src\\pages\\DoctorDashboard.jsx:38:22)',
        hint: '',
        code: ''
      }

    [0m [90m 58 |[39m       }[33m;[39m
     [90m 59 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 60 |[39m       console[33m.[39merror([32m'Error fetching doctor 
stats:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 61 |[39m       [36mreturn[39m {
     [90m 62 |[39m         success[33m:[39m [36mfalse[39m[33m,[39m
     [90m 63 |[39m         error[33m:[39m error[33m.[39mmessage[33m,[39m[0m

      at Function.getDoctorStats (src/services/databaseService.js:60:15)
      at loadDoctorStats (src/pages/DoctorDashboard.jsx:38:22)

    console.error
      Error fetching patient stats: {
        message: "TypeError: Cannot read properties of undefined (reading 'status')",
        details: "TypeError: Cannot read properties of undefined (reading 'status')\n" +
          '    at 
D:\\Repositories\\medichain\\node_modules\\@supabase\\postgrest-js\\src\\PostgrestBuilder.ts:124:24\n' +
          '    at runNextTicks (node:internal/process/task_queues:65:5)\n' +
          '    at listOnTimeout (node:internal/timers:555:9)\n' +
          '    at processTimers (node:internal/timers:529:7)\n' +
          '    at Function.getPatientStats 
(D:\\Repositories\\medichain\\src\\services\\databaseService.js:78:66)\n' +
          '    at loadPatientStats 
(D:\\Repositories\\medichain\\src\\pages\\PatientDashboard.jsx:41:22)',
        hint: '',
        code: ''
      }

    [0m [90m 118 |[39m       }[33m;[39m
     [90m 119 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 120 |[39m       console[33m.[39merror([32m'Error fetching patient 
stats:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 121 |[39m       [36mreturn[39m {
     [90m 122 |[39m         success[33m:[39m [36mfalse[39m[33m,[39m
     [90m 123 |[39m         error[33m:[39m error[33m.[39mmessage[33m,[39m[0m

      at Function.getPatientStats (src/services/databaseService.js:120:15)
      at loadPatientStats (src/pages/PatientDashboard.jsx:41:22)

    console.warn
      Failed to load patient stats: TypeError: Cannot read properties of undefined (reading 'status')

    [0m [90m 44 |[39m         setStats(result[33m.[39mdata)
     [90m 45 |[39m       } [36melse[39m {
    [31m[1m>[22m[39m[90m 46 |[39m         console[33m.[39mwarn([32m'Failed to load patient 
stats:'[39m[33m,[39m result[33m.[39merror)
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 47 |[39m         setError([32m'Failed to load dashboard statistics'[39m)
     [90m 48 |[39m         [90m// Keep existing stats as fallback[39m
     [90m 49 |[39m       }[0m

      at loadPatientStats (src/pages/PatientDashboard.jsx:46:17)

    console.error
      Error fetching patient stats: {
        message: "TypeError: Cannot read properties of undefined (reading 'status')",
        details: "TypeError: Cannot read properties of undefined (reading 'status')\n" +
          '    at 
D:\\Repositories\\medichain\\node_modules\\@supabase\\postgrest-js\\src\\PostgrestBuilder.ts:124:24\n' +
          '    at Function.getPatientStats 
(D:\\Repositories\\medichain\\src\\services\\databaseService.js:78:66)\n' +
          '    at loadPatientStats 
(D:\\Repositories\\medichain\\src\\pages\\PatientDashboard.jsx:41:22)',
        hint: '',
        code: ''
      }

    [0m [90m 118 |[39m       }[33m;[39m
     [90m 119 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 120 |[39m       console[33m.[39merror([32m'Error fetching patient 
stats:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 121 |[39m       [36mreturn[39m {
     [90m 122 |[39m         success[33m:[39m [36mfalse[39m[33m,[39m
     [90m 123 |[39m         error[33m:[39m error[33m.[39mmessage[33m,[39m[0m

      at Function.getPatientStats (src/services/databaseService.js:120:15)
      at loadPatientStats (src/pages/PatientDashboard.jsx:41:22)

    console.warn
      Failed to load patient stats: TypeError: Cannot read properties of undefined (reading 'status')

    [0m [90m 44 |[39m         setStats(result[33m.[39mdata)
     [90m 45 |[39m       } [36melse[39m {
    [31m[1m>[22m[39m[90m 46 |[39m         console[33m.[39mwarn([32m'Failed to load patient 
stats:'[39m[33m,[39m result[33m.[39merror)
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 47 |[39m         setError([32m'Failed to load dashboard statistics'[39m)
     [90m 48 |[39m         [90m// Keep existing stats as fallback[39m
     [90m 49 |[39m       }[0m

      at loadPatientStats (src/pages/PatientDashboard.jsx:46:17)

    console.error
      Error fetching patient stats: {
        message: "TypeError: Cannot read properties of undefined (reading 'status')",
        details: "TypeError: Cannot read properties of undefined (reading 'status')\n" +
          '    at 
D:\\Repositories\\medichain\\node_modules\\@supabase\\postgrest-js\\src\\PostgrestBuilder.ts:124:24\n' +
          '    at Function.getPatientStats 
(D:\\Repositories\\medichain\\src\\services\\databaseService.js:78:66)\n' +
          '    at loadPatientStats 
(D:\\Repositories\\medichain\\src\\pages\\PatientDashboard.jsx:41:22)',
        hint: '',
        code: ''
      }

    [0m [90m 118 |[39m       }[33m;[39m
     [90m 119 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 120 |[39m       console[33m.[39merror([32m'Error fetching patient 
stats:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 121 |[39m       [36mreturn[39m {
     [90m 122 |[39m         success[33m:[39m [36mfalse[39m[33m,[39m
     [90m 123 |[39m         error[33m:[39m error[33m.[39mmessage[33m,[39m[0m

      at Function.getPatientStats (src/services/databaseService.js:120:15)
      at loadPatientStats (src/pages/PatientDashboard.jsx:41:22)

    console.warn
      Failed to load patient stats: TypeError: Cannot read properties of undefined (reading 'status')

    [0m [90m 44 |[39m         setStats(result[33m.[39mdata)
     [90m 45 |[39m       } [36melse[39m {
    [31m[1m>[22m[39m[90m 46 |[39m         console[33m.[39mwarn([32m'Failed to load patient 
stats:'[39m[33m,[39m result[33m.[39merror)
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 47 |[39m         setError([32m'Failed to load dashboard statistics'[39m)
     [90m 48 |[39m         [90m// Keep existing stats as fallback[39m
     [90m 49 |[39m       }[0m

      at loadPatientStats (src/pages/PatientDashboard.jsx:46:17)

    console.error
      Error fetching doctor stats: {
        message: "TypeError: Cannot read properties of undefined (reading 'status')",
        details: "TypeError: Cannot read properties of undefined (reading 'status')\n" +
          '    at 
D:\\Repositories\\medichain\\node_modules\\@supabase\\postgrest-js\\src\\PostgrestBuilder.ts:124:24\n' +
          '    at Function.getDoctorStats 
(D:\\Repositories\\medichain\\src\\services\\databaseService.js:13:56)\n' +
          '    at loadDoctorStats (D:\\Repositories\\medichain\\src\\pages\\DoctorDashboard.jsx:38:22)',
        hint: '',
        code: ''
      }

    [0m [90m 58 |[39m       }[33m;[39m
     [90m 59 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 60 |[39m       console[33m.[39merror([32m'Error fetching doctor 
stats:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 61 |[39m       [36mreturn[39m {
     [90m 62 |[39m         success[33m:[39m [36mfalse[39m[33m,[39m
     [90m 63 |[39m         error[33m:[39m error[33m.[39mmessage[33m,[39m[0m

      at Function.getDoctorStats (src/services/databaseService.js:60:15)
      at loadDoctorStats (src/pages/DoctorDashboard.jsx:38:22)

    console.error
      Error fetching patient stats: {
        message: "TypeError: Cannot read properties of undefined (reading 'status')",
        details: "TypeError: Cannot read properties of undefined (reading 'status')\n" +
          '    at 
D:\\Repositories\\medichain\\node_modules\\@supabase\\postgrest-js\\src\\PostgrestBuilder.ts:124:24\n' +
          '    at Function.getPatientStats 
(D:\\Repositories\\medichain\\src\\services\\databaseService.js:78:66)\n' +
          '    at loadPatientStats 
(D:\\Repositories\\medichain\\src\\pages\\PatientDashboard.jsx:41:22)',
        hint: '',
        code: ''
      }

    [0m [90m 118 |[39m       }[33m;[39m
     [90m 119 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 120 |[39m       console[33m.[39merror([32m'Error fetching patient 
stats:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 121 |[39m       [36mreturn[39m {
     [90m 122 |[39m         success[33m:[39m [36mfalse[39m[33m,[39m
     [90m 123 |[39m         error[33m:[39m error[33m.[39mmessage[33m,[39m[0m

      at Function.getPatientStats (src/services/databaseService.js:120:15)
      at loadPatientStats (src/pages/PatientDashboard.jsx:41:22)

    console.warn
      Failed to load patient stats: TypeError: Cannot read properties of undefined (reading 'status')

    [0m [90m 44 |[39m         setStats(result[33m.[39mdata)
     [90m 45 |[39m       } [36melse[39m {
    [31m[1m>[22m[39m[90m 46 |[39m         console[33m.[39mwarn([32m'Failed to load patient 
stats:'[39m[33m,[39m result[33m.[39merror)
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 47 |[39m         setError([32m'Failed to load dashboard statistics'[39m)
     [90m 48 |[39m         [90m// Keep existing stats as fallback[39m
     [90m 49 |[39m       }[0m

      at loadPatientStats (src/pages/PatientDashboard.jsx:46:17)

PASS src/frontend/MedichainSignup.test.jsx
  ΓùÅ Console

    console.warn
      ΓÜá∩╕Å React Router Future Flag Warning: React Router will begin wrapping state updates in 
`React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For 
more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

    [0m [90m 65 |[39m   describe([32m'Initial Rendering'[39m[33m,[39m () [33m=>[39m {
     [90m 66 |[39m     it([32m'renders signup form correctly'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 67 |[39m       render(
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 68 |[39m         [33m<[39m[33mTestWrapper[39m[33m>[39m
     [90m 69 |[39m           [33m<[39m[33mMedichainSignup[39m [33m/[39m[33m>[39m
     [90m 70 |[39m         [33m<[39m[33m/[39m[33mTestWrapper[39m[33m>[39m[0m

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.UNSAFE_logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:26:5)
      at create (node_modules/react-router-dom/index.tsx:816:25)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at callback (node_modules/react-dom/cjs/react-dom.development.js:26808:9)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at actImplementation (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:25)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/frontend/MedichainSignup.test.jsx:67:13)

    console.warn
      ΓÜá∩╕Å React Router Future Flag Warning: Relative route resolution within Splat routes is 
changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more 
information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

    [0m [90m 65 |[39m   describe([32m'Initial Rendering'[39m[33m,[39m () [33m=>[39m {
     [90m 66 |[39m     it([32m'renders signup form correctly'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 67 |[39m       render(
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 68 |[39m         [33m<[39m[33mTestWrapper[39m[33m>[39m
     [90m 69 |[39m           [33m<[39m[33mMedichainSignup[39m [33m/[39m[33m>[39m
     [90m 70 |[39m         [33m<[39m[33m/[39m[33mTestWrapper[39m[33m>[39m[0m

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.UNSAFE_logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:37:5)
      at create (node_modules/react-router-dom/index.tsx:816:25)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at callback (node_modules/react-dom/cjs/react-dom.development.js:26808:9)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at actImplementation (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:25)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/frontend/MedichainSignup.test.jsx:67:13)

PASS src/App.test.js
  ΓùÅ Console

    console.warn
      ΓÜá∩╕Å React Router Future Flag Warning: React Router will begin wrapping state updates in 
`React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For 
more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

    [0m [90m 3 |[39m
     [90m 4 |[39m test([32m'renders MediChain app'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 5 |[39m   render([33m<[39m[33mApp[39m 
[33m/[39m[33m>[39m)[33m;[39m
     [90m   |[39m         [31m[1m^[22m[39m
     [90m 6 |[39m   [36mconst[39m linkElements [33m=[39m 
screen[33m.[39mgetAllByText([35m/MEDICHAIN/i[39m)[33m;[39m
     [90m 7 |[39m   
expect(linkElements[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m 8 |[39m })[33m;[39m[0m

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.UNSAFE_logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:26:5)
      at create (node_modules/react-router-dom/index.tsx:816:25)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at callback (node_modules/react-dom/cjs/react-dom.development.js:26808:9)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at actImplementation (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:25)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/App.test.js:5:9)

    console.warn
      ΓÜá∩╕Å React Router Future Flag Warning: Relative route resolution within Splat routes is 
changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more 
information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

    [0m [90m 3 |[39m
     [90m 4 |[39m test([32m'renders MediChain app'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 5 |[39m   render([33m<[39m[33mApp[39m 
[33m/[39m[33m>[39m)[33m;[39m
     [90m   |[39m         [31m[1m^[22m[39m
     [90m 6 |[39m   [36mconst[39m linkElements [33m=[39m 
screen[33m.[39mgetAllByText([35m/MEDICHAIN/i[39m)[33m;[39m
     [90m 7 |[39m   
expect(linkElements[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m 8 |[39m })[33m;[39m[0m

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.UNSAFE_logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:37:5)
      at create (node_modules/react-router-dom/index.tsx:816:25)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at callback (node_modules/react-dom/cjs/react-dom.development.js:26808:9)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at actImplementation (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:25)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/App.test.js:5:9)

    console.error
      Warning: An update to AuthProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at 
https://reactjs.org/link/wrap-tests-with-act
          at fn (D:\Repositories\medichain\src\context\AuthContext.jsx:25:32)
          at App

    [0m [90m 72 |[39m         setUser([36mnull[39m)[33m;[39m
     [90m 73 |[39m       }
    [31m[1m>[22m[39m[90m 74 |[39m       setLoading([36mfalse[39m)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 75 |[39m     })[33m;[39m
     [90m 76 |[39m
     [90m 77 |[39m     [36mreturn[39m () [33m=>[39m unsubscribe()[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at setLoading (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at cb (src/context/AuthContext.jsx:74:7)
      at node_modules/firebase/node_modules/@firebase/auth/src/core/auth/auth_impl.ts:741:7

FAIL src/pages/PatientAppointments.test.jsx
  ΓùÅ Console

    console.warn
      ΓÜá∩╕Å React Router Future Flag Warning: React Router will begin wrapping state updates in 
`React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For 
more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

    [0m [90m 100 |[39m   describe([32m'Video Call Button Rendering'[39m[33m,[39m () [33m=>[39m 
{
     [90m 101 |[39m     it([32m'renders "Join Video Consultation" button when meeting URL 
exists'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 102 |[39m       render(
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 103 |[39m         [33m<[39m[33mTestWrapper[39m[33m>[39m
     [90m 104 |[39m           [33m<[39m[33mPatientAppointments[39m [33m/[39m[33m>[39m
     [90m 105 |[39m         [33m<[39m[33m/[39m[33mTestWrapper[39m[33m>[39m[0m

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.UNSAFE_logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:26:5)
      at create (node_modules/react-router-dom/index.tsx:816:25)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at callback (node_modules/react-dom/cjs/react-dom.development.js:26808:9)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at actImplementation (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:25)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/pages/PatientAppointments.test.jsx:102:13)

    console.warn
      ΓÜá∩╕Å React Router Future Flag Warning: Relative route resolution within Splat routes is 
changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more 
information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

    [0m [90m 100 |[39m   describe([32m'Video Call Button Rendering'[39m[33m,[39m () [33m=>[39m 
{
     [90m 101 |[39m     it([32m'renders "Join Video Consultation" button when meeting URL 
exists'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 102 |[39m       render(
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 103 |[39m         [33m<[39m[33mTestWrapper[39m[33m>[39m
     [90m 104 |[39m           [33m<[39m[33mPatientAppointments[39m [33m/[39m[33m>[39m
     [90m 105 |[39m         [33m<[39m[33m/[39m[33mTestWrapper[39m[33m>[39m[0m

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.UNSAFE_logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:37:5)
      at create (node_modules/react-router-dom/index.tsx:816:25)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at callback (node_modules/react-dom/cjs/react-dom.development.js:26808:9)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at actImplementation (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:25)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/pages/PatientAppointments.test.jsx:102:13)

  ΓùÅ PatientAppointments - Video Call Integration ΓÇ║ Video Call Button Rendering ΓÇ║ prioritizes 
meeting_link over meeting_url

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/video/new-url"
    Received
           1: "/video/old-url"
           2: "/video/old-url"
           3: "/video/old-url"

    Number of calls: 18

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"dashboard-container fade-in"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"background-crosses"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"cross cross-1"[39m
              [36m>[39m
                [0m+[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"cross cross-2"[39m
              [36m>[39m
                [0m+[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"cross cross-3"[39m
              [36m>[39m
                [0m+[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"cross cross-4"[39m
              [36m>[39m
                [0m+[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"cross cross-5"[39m
              [36m>[39m
                [0m+[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"cross cross-6"[39m
              [36m>[39m
                [0m+[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"cross cross-7"[39m
              [36m>[39m
                [0m+[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"cross cross-8"[39m
              [36m>[39m
                [0m+[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"cross cross-9"[39m
              [36m>[39m
                [0m+[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"cross cross-10"[39m
              [36m>[39m
                [0m+[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"cross cross-11"[39m
              [36m>[39m
                [0m+[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"cross cross-12"[39m
              [36m>[39m
                [0m+[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"cross cross-13"[39m
              [36m>[39m
                [0m+[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"cross cross-14"[39m
              [36m>[39m
                [0m+[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"cross cross-15"[39m
              [36m>[39m
                [0m+[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"cross cross-16"[39m
              [36m>[39m
                [0m+[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"cross cross-17"[39m
              [36m>[39m
                [0m+[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"cross cross-18"[39m
              [36m>[39m
                [0m+[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"cross cross-19"[39m
              [36m>[39m
                [0m+[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"cross cross-20"[39m
              [36m>[39m
                [0m+[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"cross cross-21"[39m
              [36m>[39m
                [0m+[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"cross cross-22"[39m
              [36m>[39m
                [0m+[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"cross cross-23"[39m
              [36m>[39m
                [0m+[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"cross cross-24"[39m
              [36m>[39m
                [0m+[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"mock-header"[39m
            [36m>[39m
              [0mHeader[0m
            [36m</div>[39m
            [36m<main[39m
              [33mclass[39m=[32m"dashboard-main-content"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"dashboard-header-section"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"dashboard-title-section"[39m
                [36m>[39m
                  [36m<h1[39m
                    [33mclass[39m=[32m"dashboard-title"[39m
                  [36m>[39m
                    [0mMY APPOINTMENTS[0m
                  [36m</h1>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"dashboard-subtitle"[39m
                  [36m>[39m
                    [0mView and join your scheduled online consultations[0m
                  [36m</p>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"dashboard-grid"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"main-and-sidebar-grid"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"main-content-area"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"content-card"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"card-header"[39m
                      [36m>[39m
                        [36m<h3>[39m
                          [36m<svg[39m
                            [33mclass[39m=[32m"lucide lucide-calendar"[39m
                            [33mfill[39m=[32m"none"[39m
                            [33mheight[39m=[32m"24"[39m
                            [33mstroke[39m=[32m"currentColor"[39m
                            [33mstroke-linecap[39m=[32m"round"[39m
                            [33mstroke-linejoin[39m=[32m"round"[39m
                            [33mstroke-width[39m=[32m"2"[39m
                            [33mviewBox[39m=[32m"0 0 24 24"[39m
                            [33mwidth[39m=[32m"24"[39m
                            [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                          [36m>[39m
                            [36m<path[39m
                              [33md[39m=[32m"M8 2v4"[39m
                            [36m/>[39m
                            [36m<path[39m
                              [33md[39m=[32m"M16 2v4"[39m
                            [36m/>[39m
                            [36m<rect[39m
                              [33mheight[39m=[32m"18"[39m
                              [33mrx[39m=[32m"2"[39m
                              [33mwidth[39m=[32m"18"[39m
                              [33mx[39m=[32m"3"[39m
                              [33my[39m=[32m"4"[39m
                            [36m/>[39m
                            [36m<path[39m
                              [33md[39m=[32m"M3 10h18"[39m
                            [36m/>[39m
                          [36m</svg>[39m
                          [0m Upcoming Appointments[0m
                        [36m</h3>[39m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"availability-grid"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"availability-card"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"card-header"[39m
                          [36m>[39m
                            [36m<div[39m
                              [33mclass[39m=[32m"date-info"[39m
                            [36m>[39m
                              [36m<svg[39m
                                [33mclass[39m=[32m"lucide lucide-calendar"[39m
                                [33mfill[39m=[32m"none"[39m
                                [33mheight[39m=[32m"20"[39m
                                [33mstroke[39m=[32m"currentColor"[39m
                                [33mstroke-linecap[39m=[32m"round"[39m
                                [33mstroke-linejoin[39m=[32m"round"[39m
                                [33mstroke-width[39m=[32m"2"[39m
                                [33mviewBox[39m=[32m"0 0 24 24"[39m
                                [33mwidth[39m=[32m"20"[39m
                                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                              [36m>[39m
                                [36m<path[39m
                                  [33md[39m=[32m"M8 2v4"[39m
                                [36m/>[39m
                                [36m<path[39m
                                  [33md[39m=[32m"M16 2v4"[39m
                                [36m/>[39m
                                [36m<rect[39m
                                  [33mheight[39m=[32m"18"[39m
                                  [33mrx[39m=[32m"2"[39m
                                  [33mwidth[39m=[32m"18"[39m
                                  [33mx[39m=[32m"3"[39m
                                  [33my[39m=[32m"4"[39m
                                [36m/>[39m
                                [36m<path[39m
                                  [33md[39m=[32m"M3 10h18"[39m
                                [36m/>[39m
                              [36m</svg>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"date-text"[39m
                              [36m>[39m
                                [0mThursday, January 25, 2024[0m
                              [36m</span>[39m
                            [36m</div>[39m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"time-slots"[39m
                          [36m>[39m
                            [36m<div[39m
                              [33mclass[39m=[32m"time-slot"[39m
                            [36m>[39m
                              [36m<svg[39m
                                [33mclass[39m=[32m"lucide lucide-clock"[39m
                                [33mfill[39m=[32m"none"[39m
                                [33mheight[39m=[32m"16"[39m
                                [33mstroke[39m=[32m"currentColor"[39m
                                [33mstroke-linecap[39m=[32m"round"[39m
                                [33mstroke-linejoin[39m=[32m"round"[39m
                                [33mstroke-width[39m=[32m"2"[39m
                                [33mviewBox[39m=[32m"0 0 24 24"[39m
                                [33mwidth[39m=[32m"16"[39m
                                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                              [36m>[39m
                                [36m<circle[39m
                                  [33mcx[39m=[32m"12"[39m
                                  [33mcy[39m=[32m"12"[39m
                                  [33mr[39m=[32m"10"[39m
                                [36m/>[39m
                                [36m<polyline[39m
                                  [33mpoints[39m=[32m"12 6 12 12 16 14"[39m
                                [36m/>[39m
                              [36m</svg>[39m
                              [36m<span>[39m
                                [0m03:00 PM[0m
                              [36m</span>[39m
                            [36m</div>[39m
                            [36m<div[39m
                              [33mclass[39m=[32m"time-slot"[39m
                            [36m>[39m
                              [36m<svg[39m
                                [33mclass[39m=[32m"lucide lucide-user"[39m
                                [33mfill[39m=[32m"none"[39m
                                [33mheight[39m=[32m"16"[39m
                                [33mstroke[39m=[32m"currentColor"[39m
                                [33mstroke-linecap[39m=[32m"round"[39m
                                [33mstroke-linejoin[39m=[32m"round"[39m
                                [33mstroke-width[39m=[32m"2"[39m
                                [33mviewBox[39m=[32m"0 0 24 24"[39m
                                [33mwidth[39m=[32m"16"[39m
                                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                              [36m>[39m
                                [36m<path[39m
                                  [33md[39m=[32m"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"[39m
                                [36m/>[39m
                                [36m<circle[39m
                                  [33mcx[39m=[32m"12"[39m
                                  [33mcy[39m=[32m"7"[39m
                                  [33mr[39m=[32m"4"[39m
                                [36m/>[39m
                              [36m</svg>[39m
                              [36m<span>[39m
                                [0mYour doctor[0m
                              [36m</span>[39m
                            [36m</div>[39m
                            [36m<div[39m
                              [33mclass[39m=[32m"time-slot video-consultation"[39m
                            [36m>[39m
                              [36m<svg[39m
                                [33mclass[39m=[32m"lucide lucide-video"[39m
                                [33mfill[39m=[32m"none"[39m
                                [33mheight[39m=[32m"16"[39m
                                [33mstroke[39m=[32m"currentColor"[39m
                                [33mstroke-linecap[39m=[32m"round"[39m
                                [33mstroke-linejoin[39m=[32m"round"[39m
                                [33mstroke-width[39m=[32m"2"[39m
                                [33mviewBox[39m=[32m"0 0 24 24"[39m
                                [33mwidth[39m=[32m"16"[39m
                                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                              [36m>[39m
                                [36m<path[39m
                                  [33md[39m=[32m"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 
0 0-.752-.432L16 10.5"[39m
                                [36m/>[39m
                                [36m<rect[39m
                                  [33mheight[39m=[32m"12"[39m
                                  [33mrx[39m=[32m"2"[39m
                                  [33mwidth[39m=[32m"14"[39m
                                  [33mx[39m=[32m"2"[39m
                                  [33my[39m=[32m"6"[39m
                                [36m/>[39m
                              [36m</svg>[39m
                              [36m<button[39m
                                [33mstyle[39m=[32m"background: none; color: rgb(25, 118, 210); 
text-decoration: none; font-weight: 500; cursor: pointer; padding: 0px; font-family: inherit;"[39m
                              [36m>[39m
                                [0mJoin Video Consultation[0m
                              [36m</button>[39m
                            [36m</div>[39m
                          [36m</div>[39m
                        [36m</div>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</main>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

    [0m [90m 157 |[39m         
     [90m 158 |[39m         [90m// Should extract room name from meeting_link (new-url)[39m
    [31m[1m>[22m[39m[90m 159 |[39m         
expect(mockNavigate)[33m.[39mtoHaveBeenCalledWith([32m'/video/new-url'[39m)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 160 |[39m       })[33m;[39m
     [90m 161 |[39m     })[33m;[39m
     [90m 162 |[39m   })[33m;[39m[0m

      at callback (src/pages/PatientAppointments.test.jsx:159:30)
      at runWithExpensiveErrorDiagnosticsDisabled 
(node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:76)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

PASS src/frontend/ResetPassword.test.jsx (6.686 s)
  ΓùÅ Console

    console.warn
      ΓÜá∩╕Å React Router Future Flag Warning: React Router will begin wrapping state updates in 
`React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For 
more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

    [0m [90m 58 |[39m   describe([32m'Step 1: Email Input'[39m[33m,[39m () [33m=>[39m {
     [90m 59 |[39m     it([32m'renders email input form correctly'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 60 |[39m       render(
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 61 |[39m         [33m<[39m[33mTestWrapper[39m[33m>[39m
     [90m 62 |[39m           [33m<[39m[33mResetPassword[39m [33m/[39m[33m>[39m
     [90m 63 |[39m         [33m<[39m[33m/[39m[33mTestWrapper[39m[33m>[39m[0m

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.UNSAFE_logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:26:5)
      at create (node_modules/react-router-dom/index.tsx:816:25)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at callback (node_modules/react-dom/cjs/react-dom.development.js:26808:9)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at actImplementation (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:25)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/frontend/ResetPassword.test.jsx:60:13)

    console.warn
      ΓÜá∩╕Å React Router Future Flag Warning: Relative route resolution within Splat routes is 
changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more 
information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

    [0m [90m 58 |[39m   describe([32m'Step 1: Email Input'[39m[33m,[39m () [33m=>[39m {
     [90m 59 |[39m     it([32m'renders email input form correctly'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 60 |[39m       render(
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 61 |[39m         [33m<[39m[33mTestWrapper[39m[33m>[39m
     [90m 62 |[39m           [33m<[39m[33mResetPassword[39m [33m/[39m[33m>[39m
     [90m 63 |[39m         [33m<[39m[33m/[39m[33mTestWrapper[39m[33m>[39m[0m

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.UNSAFE_logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:37:5)
      at create (node_modules/react-router-dom/index.tsx:816:25)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete 
(node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at callback (node_modules/react-dom/cjs/react-dom.development.js:26808:9)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at actImplementation (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:25)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/frontend/ResetPassword.test.jsx:60:13)

    console.error
      Password reset request error: { response: { data: { error: 'Email not found' } } }

    [0m [90m 62 |[39m       }
     [90m 63 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 64 |[39m       console[33m.[39merror([32m'Password reset request 
error:'[39m[33m,[39m error)
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 65 |[39m       [36mif[39m 
(error[33m.[39mresponse[33m?[39m[33m.[39mdata[33m?[39m[33m.[39merror) {
     [90m 66 |[39m         
showToast[33m.[39merror(error[33m.[39mresponse[33m.[39mdata[33m.[39merror)
     [90m 67 |[39m       } [36melse[39m {[0m

      at handleEmailSubmit (src/frontend/ResetPassword.jsx:64:15)

    console.error
      OTP verification error: { response: { data: { error: 'Invalid OTP code' } } }

    [0m [90m 109 |[39m       }
     [90m 110 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 111 |[39m       console[33m.[39merror([32m'OTP verification 
error:'[39m[33m,[39m error)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 112 |[39m       [36mif[39m 
(error[33m.[39mresponse[33m?[39m[33m.[39mdata[33m?[39m[33m.[39merror) {
     [90m 113 |[39m         
showToast[33m.[39merror(error[33m.[39mresponse[33m.[39mdata[33m.[39merror)
     [90m 114 |[39m       } [36melse[39m {[0m

      at handleOtpSubmit (src/frontend/ResetPassword.jsx:111:15)

    console.error
      Password reset error: { response: { data: { error: 'Reset token expired' } } }

    [0m [90m 173 |[39m       }
     [90m 174 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 175 |[39m       console[33m.[39merror([32m'Password reset 
error:'[39m[33m,[39m error)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 176 |[39m       [36mif[39m 
(error[33m.[39mresponse[33m?[39m[33m.[39mdata[33m?[39m[33m.[39merror) {
     [90m 177 |[39m         
showToast[33m.[39merror(error[33m.[39mresponse[33m.[39mdata[33m.[39merror)
     [90m 178 |[39m       } [36melse[39m {[0m

      at handlePasswordSubmit (src/frontend/ResetPassword.jsx:175:15)


Test Suites: 2 failed, 11 passed, 13 total
Tests:       4 failed, 163 passed, 167 total
Snapshots:   0 total
Time:        9.173 s
Ran all test suites.
