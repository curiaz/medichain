<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Test Enhanced Conditions Slide</title>\n    <style>\n        body { font-family: Arial, sans-serif; margin: 20px; }\n        .test-container { max-width: 600px; margin: 0 auto; }\n        .test-button { background: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; margin: 10px 0; }\n        .test-result { background: #f8f9fa; padding: 15px; border-radius: 5px; margin: 10px 0; }\n        .success { background: #d4edda; color: #155724; }\n        .error { background: #f8d7da; color: #721c24; }\n    </style>\n</head>\n<body>\n    <div class=\"test-container\">\n        <h1>üß™ Enhanced Conditions Slide Test</h1>\n        \n        <button class=\"test-button\" onclick=\"testAPI()\">Test API Response</button>\n        <button class=\"test-button\" onclick=\"simulateSlideData()\">Simulate Slide Data</button>\n        \n        <div id=\"result\"></div>\n    </div>\n\n    <script>\n        async function testAPI() {\n            const resultDiv = document.getElementById('result');\n            resultDiv.innerHTML = '<p>Testing API...</p>';\n            \n            try {\n                const response = await fetch('http://localhost:5000/api/ai/diagnose', {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                    },\n                    body: JSON.stringify({\n                        symptoms: 'I have headache, shortness of breath, cough and fatigue',\n                        age: 30,\n                        gender: 'male'\n                    })\n                });\n                \n                if (response.ok) {\n                    const data = await response.json();\n                    \n                    // Check if enhanced data is present\n                    let html = '<div class=\"test-result success\">';\n                    html += '<h3>‚úÖ API Response Success</h3>';\n                    html += `<p><strong>Diagnosis:</strong> ${data.diagnosis}</p>`;\n                    html += `<p><strong>Confidence:</strong> ${data.confidence_percent}</p>`;\n                    \n                    if (data.top_predictions) {\n                        html += '<h4>Top Predictions:</h4><ul>';\n                        data.top_predictions.slice(0, 3).forEach(pred => {\n                            html += `<li>${pred.diagnosis} (${pred.confidence_percent})</li>`;\n                        });\n                        html += '</ul>';\n                    }\n                    \n                    if (data.detected_symptoms) {\n                        const activeSymptoms = Object.entries(data.detected_symptoms)\n                            .filter(([_, value]) => value === 1)\n                            .map(([key, _]) => key.replace(/_/g, ' '));\n                        html += `<h4>Detected Symptoms:</h4><p>${activeSymptoms.join(', ')}</p>`;\n                    }\n                    \n                    if (data.medications && data.medications.length > 0) {\n                        html += '<h4>Medications:</h4><ul>';\n                        data.medications.slice(0, 3).forEach(med => {\n                            html += `<li>${med.name} - ${med.purpose}</li>`;\n                        });\n                        html += '</ul>';\n                    }\n                    \n                    html += '</div>';\n                    resultDiv.innerHTML = html;\n                } else {\n                    resultDiv.innerHTML = `<div class=\"test-result error\">‚ùå API Error: ${response.status}</div>`;\n                }\n            } catch (error) {\n                resultDiv.innerHTML = `<div class=\"test-result error\">‚ùå Connection Error: ${error.message}</div>`;\n            }\n        }\n        \n        function simulateSlideData() {\n            const resultDiv = document.getElementById('result');\n            \n            // Simulate the enhanced conditions slide display\n            let html = '<div class=\"test-result\">';\n            html += '<h3>üîç Simulated Enhanced Conditions Slide</h3>';\n            \n            // Primary condition\n            html += '<div style=\"border-left: 4px solid #10b981; padding: 10px; margin: 10px 0; background: rgba(255,255,255,0.8)\">';\n            html += '<span style=\"background: #dcfce7; color: #166534; padding: 2px 6px; border-radius: 4px; font-size: 12px\">Most Likely</span>';\n            html += '<h4 style=\"margin: 5px 0; color: #1e40af\">Sinusitis</h4>';\n            \n            // Confidence bar\n            html += '<div style=\"background: #e5e7eb; border-radius: 4px; overflow: hidden; margin: 5px 0\">';\n            html += '<div style=\"background: #ef4444; height: 8px; width: 10.8%; transition: width 0.3s ease\"></div>';\n            html += '</div>';\n            html += '<p style=\"font-size: 14px; color: #6b7280\">10.8% confidence</p>';\n            html += '<p style=\"color: #4b5563; font-size: 14px\">Inflammation of sinus cavities causing pressure and congestion.</p>';\n            html += '</div>';\n            \n            // Alternative conditions\n            html += '<h4 style=\"color: #374151\">Other Possibilities:</h4>';\n            const alternatives = [\n                {name: 'Common Cold', confidence: '8.6%'},\n                {name: 'Ear Infection', confidence: '6.5%'}\n            ];\n            \n            alternatives.forEach(alt => {\n                html += '<div style=\"padding: 8px; background: rgba(255,255,255,0.6); border-radius: 8px; border-left: 3px solid #6b7280; margin: 5px 0\">';\n                html += `<span style=\"font-weight: 500\">${alt.name}</span>`;\n                html += `<span style=\"float: right; font-size: 12px; color: #6b7280\">${alt.confidence}</span>`;\n                html += '</div>';\n            });\n            \n            // Detected symptoms\n            html += '<h4 style=\"color: #374151; margin-top: 15px\">Key Symptoms Identified:</h4>';\n            const symptoms = ['Headache', 'Cough', 'Fatigue'];\n            symptoms.forEach(symptom => {\n                html += `<span style=\"display: inline-block; padding: 4px 8px; background: #dbeafe; color: #1e40af; font-size: 12px; border-radius: 6px; margin: 2px\">${symptom}</span>`;\n            });\n            \n            html += '</div>';\n            resultDiv.innerHTML = html;\n        }\n    </script>\n</body>\n</html>